window.helper=window.helper||{};helper.return_visit=0;helper.uniqid=Math.floor(Math.random()*1000)+Date.now().toString();helper.show=function($query,$property="visibility"){let elms=document.querySelectorAll($query);for(let i=0;i<elms.length;i++){elms[i].style[$property]="visible";if($property=="display"){elms[i].style[$property]="block";}else{elms[i].style[$property]="visible";}}}
helper.hide=function($query,$property="visibility"){let elms=document.querySelectorAll($query);for(let i=0;i<elms.length;i++){if($property=="display"){elms[i].style[$property]="none";}else{elms[i].style[$property]="hidden";}}}
helper.showBelowFold=function($belowfold){helper.show($belowfold,"display");let $setup=helper.config.showStickyButton;helper.showSticky($setup.stickyButton,$setup.offer);}
helper.isMobile=/Mobi/.test(window.navigator.userAgent);helper.isSet=function($param){var url_string=window.location.href;var url=new URL(url_string);var c=url.searchParams.get($param);if(c==null)
return false;else
return true;}
helper.createCookie=function(name,value,days){var date,expires;if(days){date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires="; expires="+date.toGMTString();}else{expires="";}
document.cookie=name+"="+value+expires+"; path=/; "+(location.hostname==="localhost"?"":"SameSite=None; Secure");}
helper.getCookie=function(name){var dc=document.cookie;var prefix=name+"=";var begin=dc.indexOf("; "+prefix);if(begin==-1){begin=dc.indexOf(prefix);if(begin!=0)
return null;}else{begin+=2;var end=document.cookie.indexOf(";",begin);if(end==-1){end=dc.length;}}
return decodeURI(dc.substring(begin+prefix.length,end));}
helper.saveData=function(name,value,minutes){var now=new Date();var expired=now.getTime()+minutes*60*1000;var dataToSave={value:value,expired:expired};localStorage.setItem(name,JSON.stringify(dataToSave));}
helper.loadData=function(name){var res=null;var dataFromStorage=localStorage.getItem(name);if(dataFromStorage){var dataObj=JSON.parse(dataFromStorage);var now=new Date();if(dataObj.expired<now.getTime()){localStorage.removeItem(name);}else{res=dataObj.value;}}
return res;}
helper.isSet=function($param){var url_string=window.location.href;var url=new URL(url_string);var c=url.searchParams.get($param);if(c==null)
return false;else
return true;}
helper.checkVisible=function(elm,eval){eval=eval||"visible";var vpH=window.innerHeight,st=window.pageYOffset,y=elm.offsetTop,elementHeight=elm.offsetHeight;if(eval=="visible")return((y<(vpH+st))&&(y>(st-elementHeight)));}
helper.showSticky=function($stickyButton,$elem){if(document.querySelector($stickyButton)===null)return;if(document.querySelector($elem)===null)return;window.addEventListener('scroll',(event)=>{document.querySelector($stickyButton).addEventListener('click',(event)=>{$offset=document.querySelector($elem).offsetTop;window.scrollTo({top:$offset,behavior:'smooth'});},{passive:true});this.stikyButtonVisible=false;let offers=document.querySelectorAll($elem);let stickyButton=document.querySelector($stickyButton);for(var i=0;i<offers.length;i++){helper.stikyButtonVisible=helper.stikyButtonVisible||helper.checkVisible(offers[i]);}
if(this.stikyButtonVisible){stickyButton.classList.remove("visible");stickyButton.classList.add("hidden");}else{stickyButton.classList.add("visible");stickyButton.classList.remove("hidden");}},{passive:true});}
helper.sendEvent=function($player){if(!helper.return_visit&&$player.player){navigator.sendBeacon('/beacon.php?val='+helper.uniqid+";XXX;"+Math.floor($player.getCurrentTime())+";"+this.clickStatus);}}
helper.getDataSet=function(elm,name){var data=document.querySelector(elm).dataset[name];return data;}
helper.initExitModal=function($elem){let modal=document.querySelector($elem);if(modal===null)return;let body=document.body;body.addEventListener("mouseout",function(event){if(event.clientY<0){helper.show($elem,"display");}});let closeBtn=document.querySelector($elem+" .close");closeBtn.addEventListener("click",function(){helper.hide($elem,"display");});}
helper.orderModal=function($elem,$modal){helper.modalOrderUpgrade=$modal;let openModal=document.querySelectorAll($elem);for(let i=0;i<openModal.length;i++){openModal[i].addEventListener("click",function(event){event.preventDefault();helper.show(helper.modalOrderUpgrade,"display");});}}
helper.initMonitors=function($player){window.addEventListener('beforeunload',function(e){helper.sendEvent($player);delete e['returnValue'];});document.querySelectorAll('.addToCart').forEach(item=>{item.addEventListener('click',event=>{$player.oldClickStatus=$player.clickStatus;$player.clickStatus=4;helper.sendEvent($player);$player.clickStatus=$player.oldClickStatus;})});}
helper.initCountdown=()=>{const timeInMiliseconds=1800;const deadline=new Date(Date.parse(new Date())+timeInMiliseconds*1000);helper.initializeClock('.countdown',deadline);}
helper.getTimeRemaining=function(endtime){const total=Date.parse(endtime)-Date.parse(new Date());const seconds=Math.floor((total/1000)%60);const minutes=Math.floor((total/1000/60)%60);const hours=Math.floor((total/(1000*60*60))%24);const days=Math.floor(total/(1000*60*60*24));return{total,days,hours,minutes,seconds};}
helper.initializeClock=function(className,endTime){const clocks=document.querySelectorAll(className);if(clocks.length>0){clocks.forEach(clock=>{const daysSpan=clock.querySelector('.days');const hoursSpan=clock.querySelector('.hours');const minutesSpan=clock.querySelector('.minutes');const secondsSpan=clock.querySelector('.seconds');function updateClock(){const t=helper.getTimeRemaining(endTime);daysSpan.innerHTML=t.days;hoursSpan.innerHTML=('0'+t.hours).slice(-2);minutesSpan.innerHTML=('0'+t.minutes).slice(-2);secondsSpan.innerHTML=('0'+t.seconds).slice(-2);if(t.total<=0){clearInterval(timeinterval);}}
updateClock();const timeinterval=setInterval(updateClock,1000);});}}